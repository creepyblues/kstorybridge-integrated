import{s as a}from"./index-DZDudrgO.js";const s={async getAllTitles(){const{data:t,error:e}=await a.from("titles").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},async getTitlesByCreator(t){const{data:e,error:i}=await a.from("titles").select("*").eq("creator_id",t).order("created_at",{ascending:!1});if(i)throw i;return e},async getTitleById(t){const{data:e,error:i}=await a.from("titles").select("*").eq("title_id",t).single();if(i)throw i;return e},async createTitle(t){const{data:e,error:i}=await a.from("titles").insert(t).select().single();if(i)throw i;return e},async updateTitle(t,e){const{data:i,error:r}=await a.from("titles").update(e).eq("title_id",t).select().single();if(r)throw r;return i},async deleteTitle(t){const{error:e}=await a.from("titles").delete().eq("title_id",t);if(e)throw e},async searchTitles(t,e){let i=a.from("titles").select("*");t&&(i=i.or(`title_name_kr.ilike.%${t}%,title_name_en.ilike.%${t}%,author.ilike.%${t}%,story_author.ilike.%${t}%,art_author.ilike.%${t}%,writer.ilike.%${t}%,illustrator.ilike.%${t}%,tagline.ilike.%${t}%,description.ilike.%${t}%,perfect_for.ilike.%${t}%,tone.ilike.%${t}%,audience.ilike.%${t}%,note.ilike.%${t}%,rights.ilike.%${t}%,rights_owner.ilike.%${t}%,tags.cs.{${t}},comps.cs.{${t}}`)),e!=null&&e.genre&&(i=i.eq("genre",e.genre)),e!=null&&e.content_format&&(i=i.eq("content_format",e.content_format));const{data:r,error:o}=await i.order("created_at",{ascending:!1});if(o)throw o;return r}};export{s as t};
